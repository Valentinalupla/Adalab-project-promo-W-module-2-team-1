const C=document.querySelectorAll(".inputpal"),D=document.querySelectorAll(".js-icons"),b=document.querySelector(".js-decorationCard"),j=document.querySelector(".js-headerCard");let i;C.forEach(e=>{e.addEventListener("click",()=>{switch(e.value){case"colours1":h("changeblues","changereds","changeneutrals","decoB","decoR","decoN"),i=1;break;case"colours2":h("changereds","changeblues","changeneutrals","decoR","decoB","decoN"),i=2;break;case"colours3":h("changeneutrals","changereds","changeblues","decoN","decoR","decoB"),i=3;break}})});function h(e,t,c,o,a,n){D.forEach(S=>{S.classList.add(e),S.classList.remove(t,c)}),b.classList.add(o),b.classList.remove(a,n),j.classList.add(e),j.classList.remove(t,c)}const m=document.querySelector(".js-name"),v=document.querySelector(".js-job");document.querySelector(".js-photo");const r=document.querySelector(".js-email"),s=document.querySelector(".js-number"),l=document.querySelector(".js-linkedin"),d=document.querySelector(".js-git"),f=document.querySelector(".js-preview-NameCard"),y=document.querySelector(".js-preview-JobCard"),L=new FileReader,T=document.querySelector(".js__profile-upload-btn"),I=document.querySelector(".js__profile-image"),E=document.querySelector(".js__profile-preview");function A(e){const t=e.currentTarget.files[0];L.addEventListener("load",_),L.readAsDataURL(t)}function _(){const e=L.result;H(e)}function H(e){const t=document.createElement("canvas"),c=t.getContext("2d"),o=new Image;o.onload=function(){t.width=o.width,t.height=o.height,c.drawImage(o,0,0);const a=t.toDataURL("image/jpeg",.1);a.length<=39800?(I.style.backgroundImage=`url(${a})`,E.style.backgroundImage=`url(${a})`,localStorage.setItem("savedImage",a),console.log("Imagen guardada con Ã©xito.")):console.log("La imagen comprimida es demasiado grande.")},o.src=e}T.addEventListener("change",A);function w(){f.innerHTML=m.value,y.innerHTML=v.value}m.addEventListener("input",w);v.addEventListener("input",w);function p(){const e=document.querySelector(".js-linkEmail");e.href="mailto:"+r.value;const t=document.querySelector(".js-linkPhone");t.href="tel:"+s.value;const c=document.querySelector(".js-linkLinkedIn");c.href=l.value;const o=document.querySelector(".js-linkGitHub");o.href=d.value}r.addEventListener("input",p);s.addEventListener("input",p);l.addEventListener("input",p);d.addEventListener("input",p);const M=document.querySelectorAll(".js-icons"),P=document.querySelector(".js-decorationCard"),R=document.querySelector(".js-headerCard"),J=document.querySelectorAll(".inputpal"),B=document.querySelectorAll("input"),U=document.querySelector(".js-preview-NameCard"),x=document.querySelector(".js-preview-JobCard"),F=document.querySelector(".js-button-reset"),$=document.querySelector(".js__profile-image"),O=document.querySelector(".js__profile-preview"),G=()=>{M.forEach(e=>{e.classList.remove("changereds","changeblues","changeneutrals")}),R.classList.remove("changereds","changeblues","changeneutrals"),P.classList.remove("decoR","decoB","decoN")},V=()=>{U.innerHTML="Nombre Apellido",x.innerHTML="Front-end developer"},z=()=>{$.style.backgroundImage="",O.style.backgroundImage=""},K=()=>{J.forEach(e=>{e.checked=!1})},Q=()=>{B.forEach(e=>{e.value=e.defaultValue}),r.value="",s.value="",l.value="",d.value=""},W=()=>{z(),V(),G(),localStorage.removeItem("savedImage")},X=()=>{K(),Q()},Y=()=>{W(),X()};F.addEventListener("click",Y);const Z=document.querySelector(".js-profile"),N=document.querySelector(".js-button"),q=document.querySelector(".profile__link");let g;const u=localStorage.getItem("savedImage"),k=localStorage.getItem("savedData");window.addEventListener("DOMContentLoaded",function(){if(u&&(I.style.backgroundImage=`url(${u})`,E.style.backgroundImage=`url(${u})`),k){const e=JSON.parse(k);m.value=e.name,v.value=e.job,s.value=e.phone,r.value=e.email,l.value=e.linkedin,d.value=e.github,e.name===""?f.innerHTML="Nombre Apellido":f.innerHTML=e.name,e.job===""?y.innerHTML="Front-end Developer":y.innerHTML=e.job}});document.body.addEventListener("click",function(e){u!==null?g={palette:i,name:m.value,job:v.value,phone:s.value,email:r.value,linkedin:l.value,github:d.value,photo:u}:g={palette:i,name:m.value,job:v.value,phone:s.value,email:r.value,linkedin:l.value,github:d.value,photo:compressedData},localStorage.setItem("savedData",JSON.stringify(g))});function ee(e){e.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(g),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{t.success==!1?q.innerHTML=`error ${t.error}`:(console.log("Respuesta del servidor:",t),q.innerHTML=`<a href="${t.cardURL}"target="_blank">${t.cardURL}</a>`,console.log(t.cardURL))}),N.classList.add("play"),Z.classList.remove("hiden")}N.addEventListener("click",ee);const te=document.querySelectorAll(".js-arrow-up"),oe=document.querySelectorAll(".js-arrow-down"),ne=document.querySelectorAll(".js-leyends"),ce=document.querySelectorAll(".js-collapsedArea");ne.forEach(e=>{e.addEventListener("click",ae)});function ae(e){const t=e.currentTarget,c=t.nextSibling.nextSibling,o=t.childNodes[1].childNodes[3],a=t.childNodes[1].childNodes[5];console.log(t.childNodes[1].childNodes[3]),te.forEach(n=>{n===o&&n.classList.remove("collapsed")}),oe.forEach(n=>{n===a&&n.classList.add("collapsed")}),ce.forEach(n=>{n===c?n.classList.remove("collapsed"):n.classList.add("collapsed")})}
//# sourceMappingURL=main.js.map
