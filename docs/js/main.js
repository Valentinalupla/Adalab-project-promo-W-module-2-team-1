const A=document.querySelectorAll(".inputpal"),P=document.querySelectorAll(".js-icons"),I=document.querySelector(".js-decorationCard"),E=document.querySelector(".js-headerCard");let g;A.forEach(e=>{e.addEventListener("click",()=>{switch(e.value){case"colours1":L("changeblues","changereds","changeneutrals","decoB","decoR","decoN"),g=1;break;case"colours2":L("changereds","changeblues","changeneutrals","decoR","decoB","decoN"),g=2;break;case"colours3":L("changeneutrals","changereds","changeblues","decoN","decoR","decoB"),g=3;break}})});function L(e,o,r,c,l,a){P.forEach(q=>{q.classList.add(e),q.classList.remove(o,r)}),I.classList.add(c),I.classList.remove(l,a),E.classList.add(e),E.classList.remove(o,r)}const p=document.querySelector(".js-name"),h=document.querySelector(".js-job");document.querySelector(".js-photo");const v=document.querySelector(".js-email"),m=document.querySelector(".js-number"),s=document.querySelector(".js-linkedin"),i=document.querySelector(".js-git"),y=document.querySelector(".js-preview-NameCard"),S=document.querySelector(".js-preview-JobCard"),w=document.querySelector(".js-errMsg"),R=document.querySelector(".js-messageImg"),_=document.querySelector(".js-twitter-share-button"),b=new FileReader,$=document.querySelector(".js__profile-upload-btn"),j=document.querySelector(".js__profile-image"),k=document.querySelector(".js__profile-preview");let u;console.log(` ${m.value} `);function B(){(!t||t.name=="")&&p.value==""||(!t||t.job=="")&&h.value==""||u==null&&(!d||d==null)||(!t||t.email=="")&&v.value==""||(!t||t.phone=="")&&m.value==""?(console.log("datos actuales"),w.innerHTML="Por favor, complete todos los campos obligatorios."):(w.innerHTML="",fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(e=>{e.success==!1?N.innerHTML=`error ${e.error}`:(console.log("Respuesta del servidor:",e),N.innerHTML=`<a href="${e.cardURL}"target="_blank">${e.cardURL}</a>`,console.log(e.cardURL)),_.href=`https://twitter.com/intent/tweet?text=${e.cardURL}`}),D.classList.add("play"),le.classList.remove("hiden"),M.forEach(e=>{e.removeEventListener("click",H)}))}function J(e){const o=e.currentTarget.files[0];b.addEventListener("load",U),b.readAsDataURL(o)}function U(){const e=b.result;e.length<=39800?(u=e,j.style.backgroundImage=`url(${e})`,k.style.backgroundImage=`url(${e})`,localStorage.setItem("savedImage",u)):x(e)}function x(e){const o=document.createElement("canvas"),r=o.getContext("2d"),c=new Image;c.onload=function(){o.width=c.width,o.height=c.height,r.drawImage(c,0,0);const l=o.toDataURL("image/jpeg",.2);l.length<=39800?(u=l,j.style.backgroundImage=`url(${l})`,k.style.backgroundImage=`url(${l})`,localStorage.setItem("savedImage",u),console.log("Imagen guardada con Ã©xito.")):(R.innerHTML="La imagen comprimida es demasiado grande.",console.log("La imagen comprimida es demasiado grande."))},c.src=e}$.addEventListener("change",J);function T(){y.innerHTML=p.value,S.innerHTML=h.value}p.addEventListener("input",T);h.addEventListener("input",T);function f(){const e=document.querySelector(".js-linkEmail");e.href="mailto:"+v.value;const o=document.querySelector(".js-linkPhone");o.href="tel:"+m.value;const r=document.querySelector(".js-linkLinkedIn");r.href=s.value;const c=document.querySelector(".js-linkGitHub");c.href=i.value}v.addEventListener("input",f);m.addEventListener("input",f);s.addEventListener("input",f);i.addEventListener("input",f);const F=document.querySelectorAll(".js-icons"),O=document.querySelector(".js-decorationCard"),G=document.querySelector(".js-headerCard"),V=document.querySelectorAll(".inputpal"),z=document.querySelectorAll("input"),K=document.querySelector(".js-preview-NameCard"),Q=document.querySelector(".js-preview-JobCard"),W=document.querySelector(".js-button-reset"),X=document.querySelector(".js__profile-image"),Y=document.querySelector(".js__profile-preview"),Z=()=>{F.forEach(e=>{e.classList.remove("changereds","changeblues","changeneutrals")}),G.classList.remove("changereds","changeblues","changeneutrals"),O.classList.remove("decoR","decoB","decoN")},ee=()=>{K.innerHTML="Nombre Apellido",Q.innerHTML="Front-end developer"},te=()=>{X.style.backgroundImage="",Y.style.backgroundImage=""},oe=()=>{V.forEach(e=>{e.checked=!1})},ne=()=>{z.forEach(e=>{e.value=e.defaultValue}),v.value="",m.value="",s.value="",i.value=""},ce=()=>{te(),ee(),Z(),localStorage.removeItem("savedImage")},ae=()=>{oe(),ne()},re=()=>{ce(),ae()};W.addEventListener("click",re);const le=document.querySelector(".js-profile"),D=document.querySelector(".js-button"),N=document.querySelector(".profile__link");let n;const d=localStorage.getItem("savedImage"),C=localStorage.getItem("savedData");let t;window.addEventListener("DOMContentLoaded",function(){d&&(j.style.backgroundImage=`url(${d})`,k.style.backgroundImage=`url(${d})`),C&&(t=JSON.parse(C),p.value=t.name,h.value=t.job,m.value=t.phone,v.value=t.email,s.value=t.linkedin,i.value=t.github,t.name===""?y.innerHTML="Nombre Apellido":y.innerHTML=t.name,t.job===""?S.innerHTML="Front-end Developer":S.innerHTML=t.job)});document.body.addEventListener("click",function(e){n={palette:g,name:p.value,job:h.value,phone:m.value,email:v.value,linkedin:s.value,github:i.value,photo:d},u==null?n.photo=d:n.photo=u,g==null?n.palette=1:n.palette=g,s.value==""||i.value==""?(n.github=" ",n.linkedin=" "):(n.linkedin=s.value,n.github=i.value),console.log(n.linkedin),localStorage.setItem("savedData",JSON.stringify(n))});function se(e){e.preventDefault(),B()}D.addEventListener("click",se);const ie=document.querySelectorAll(".js-arrow-up"),de=document.querySelectorAll(".js-arrow-down"),M=document.querySelectorAll(".js-leyends"),ue=document.querySelectorAll(".js-collapsedArea");M.forEach(e=>{e.addEventListener("click",H)});function H(e){const o=e.currentTarget,r=o.nextSibling.nextSibling,c=o.childNodes[1].childNodes[3],l=o.childNodes[1].childNodes[5];console.log(o.childNodes[1].childNodes[3]),ie.forEach(a=>{a===c&&a.classList.remove("collapsed")}),de.forEach(a=>{a===l&&a.classList.add("collapsed")}),ue.forEach(a=>{a===r?a.classList.remove("collapsed"):a.classList.add("collapsed")})}
//# sourceMappingURL=main.js.map
