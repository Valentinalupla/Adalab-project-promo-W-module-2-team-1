const D=document.querySelectorAll(".inputpal"),T=document.querySelectorAll(".js-icons"),q=document.querySelector(".js-decorationCard"),I=document.querySelector(".js-headerCard");let u;D.forEach(e=>{e.addEventListener("click",()=>{switch(e.value){case"colours1":f("changeblues","changereds","changeneutrals","decoB","decoR","decoN"),u=1;break;case"colours2":f("changereds","changeblues","changeneutrals","decoR","decoB","decoN"),u=2;break;case"colours3":f("changeneutrals","changereds","changeblues","decoN","decoR","decoB"),u=3;break}})});function f(e,t,c,o,a,n){T.forEach(k=>{k.classList.add(e),k.classList.remove(t,c)}),q.classList.add(o),q.classList.remove(a,n),I.classList.add(e),I.classList.remove(t,c)}const m=document.querySelector(".js-name"),g=document.querySelector(".js-job");document.querySelector(".js-photo");const r=document.querySelector(".js-email"),l=document.querySelector(".js-number"),s=document.querySelector(".js-linkedin"),d=document.querySelector(".js-git"),y=document.querySelector(".js-preview-NameCard"),L=document.querySelector(".js-preview-JobCard"),S=new FileReader,A=document.querySelector(".js__profile-upload-btn"),b=document.querySelector(".js__profile-image"),j=document.querySelector(".js__profile-preview");let i;function _(e){const t=e.currentTarget.files[0];S.addEventListener("load",H),S.readAsDataURL(t)}function H(){const e=S.result;e.length<=39800?(i=e,b.style.backgroundImage=`url(${e})`,j.style.backgroundImage=`url(${e})`,localStorage.setItem("savedImage",i)):M(e)}function M(e){const t=document.createElement("canvas"),c=t.getContext("2d"),o=new Image;o.onload=function(){t.width=o.width,t.height=o.height,c.drawImage(o,0,0);const a=t.toDataURL("image/jpeg",.1);a.length<=39800?(i=a,b.style.backgroundImage=`url(${a})`,j.style.backgroundImage=`url(${a})`,localStorage.setItem("savedImage",i),console.log("Imagen guardada con Ã©xito.")):console.log("La imagen comprimida es demasiado grande.")},o.src=e}A.addEventListener("change",_);function N(){y.innerHTML=m.value,L.innerHTML=g.value}m.addEventListener("input",N);g.addEventListener("input",N);function h(){const e=document.querySelector(".js-linkEmail");e.href="mailto:"+r.value;const t=document.querySelector(".js-linkPhone");t.href="tel:"+l.value;const c=document.querySelector(".js-linkLinkedIn");c.href=s.value;const o=document.querySelector(".js-linkGitHub");o.href=d.value}r.addEventListener("input",h);l.addEventListener("input",h);s.addEventListener("input",h);d.addEventListener("input",h);const P=document.querySelectorAll(".js-icons"),R=document.querySelector(".js-decorationCard"),J=document.querySelector(".js-headerCard"),$=document.querySelectorAll(".inputpal"),B=document.querySelectorAll("input"),U=document.querySelector(".js-preview-NameCard"),x=document.querySelector(".js-preview-JobCard"),F=document.querySelector(".js-button-reset"),O=document.querySelector(".js__profile-image"),G=document.querySelector(".js__profile-preview"),V=()=>{P.forEach(e=>{e.classList.remove("changereds","changeblues","changeneutrals")}),J.classList.remove("changereds","changeblues","changeneutrals"),R.classList.remove("decoR","decoB","decoN")},z=()=>{U.innerHTML="Nombre Apellido",x.innerHTML="Front-end developer"},K=()=>{O.style.backgroundImage="",G.style.backgroundImage=""},Q=()=>{$.forEach(e=>{e.checked=!1})},W=()=>{B.forEach(e=>{e.value=e.defaultValue}),r.value="",l.value="",s.value="",d.value=""},X=()=>{K(),z(),V(),localStorage.removeItem("savedImage")},Y=()=>{Q(),W()},Z=()=>{X(),Y()};F.addEventListener("click",Z);const ee=document.querySelector(".js-profile"),C=document.querySelector(".js-button"),E=document.querySelector(".profile__link");let v;const p=localStorage.getItem("savedImage"),w=localStorage.getItem("savedData");window.addEventListener("DOMContentLoaded",function(){if(p&&(b.style.backgroundImage=`url(${p})`,j.style.backgroundImage=`url(${p})`),w){const e=JSON.parse(w);m.value=e.name,g.value=e.job,l.value=e.phone,r.value=e.email,s.value=e.linkedin,d.value=e.github,e.name===""?y.innerHTML="Nombre Apellido":y.innerHTML=e.name,e.job===""?L.innerHTML="Front-end Developer":L.innerHTML=e.job}});document.body.addEventListener("click",function(e){i==null?v={palette:u,name:m.value,job:g.value,phone:l.value,email:r.value,linkedin:s.value,github:d.value,photo:p}:v={palette:u,name:m.value,job:g.value,phone:l.value,email:r.value,linkedin:s.value,github:d.value,photo:i},localStorage.setItem("savedData",JSON.stringify(v))});function te(e){e.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(v),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{t.success==!1?E.innerHTML=`error ${t.error}`:(console.log("Respuesta del servidor:",t),E.innerHTML=`<a href="${t.cardURL}"target="_blank">${t.cardURL}</a>`,console.log(t.cardURL))}),C.classList.add("play"),ee.classList.remove("hiden")}C.addEventListener("click",te);const oe=document.querySelectorAll(".js-arrow-up"),ne=document.querySelectorAll(".js-arrow-down"),ce=document.querySelectorAll(".js-leyends"),ae=document.querySelectorAll(".js-collapsedArea");ce.forEach(e=>{e.addEventListener("click",re)});function re(e){const t=e.currentTarget,c=t.nextSibling.nextSibling,o=t.childNodes[1].childNodes[3],a=t.childNodes[1].childNodes[5];console.log(t.childNodes[1].childNodes[3]),oe.forEach(n=>{n===o&&n.classList.remove("collapsed")}),ne.forEach(n=>{n===a&&n.classList.add("collapsed")}),ae.forEach(n=>{n===c?n.classList.remove("collapsed"):n.classList.add("collapsed")})}
//# sourceMappingURL=main.js.map
